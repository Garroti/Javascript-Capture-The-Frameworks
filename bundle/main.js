!function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);const r={UP:40,RIGHT:39,DOWN:38,LEFT:37,NONE:-1};var n=r;const o=()=>{const e=Object.keys(r);e.splice(e.indexOf(r[r.NONE]),1);const t=Math.floor(Math.random()*e.length,1);return r[e[t]]},c=document.createElement("img");c.src="src/assets/js.png",c.className="jsImage";class i{constructor(e,t){this.y=e,this.x=t,e||t||(this.isHead=!0)}render(){return this.renderedBlock=document.createElement("div"),this.renderedBlock.className="block",this.renderedBlock}to(e){if(!this.row.area.rows[this.y+1]||!this.row.area.rows[this.y-1])return;let t;switch(e){case n.DOWN:t=this.row.area.rows[this.y+=1].blocks[this.x];break;case n.LEFT:t=this.row.blocks[this.x-=1];break;case n.RIGHT:t=this.row.blocks[this.x+=1];break;case n.UP:t=this.row.area.rows[this.y-=1].blocks[this.x]}return t}activate(){this.activated=1,this.renderedBlock.classList.add("block-active"),this.renderedBlock.appendChild(c)}deactivate(){this.activated=0,this.renderedBlock.classList.remove("block-active"),this.renderedBlock.removeChild(c)}}class a{constructor(e,t=[]){this.blocks=t,this.rowNumber=e}push(e){e.row=this,this.blocks.push(e)}render(){const e=this.blocks.map(e=>e.render());return this.renderedRow=document.createElement("div"),this.renderedRow.className="row",e.forEach(e=>{this.renderedRow.appendChild(e)}),this.renderedRow}}var l={build(e,t){const s=new class{constructor(e=[]){this.rows=e,this.npcs=[],this.render()}activate(e,t){const s=this.getBlock(e,t);s.activate(),this.activeBlock=s}deactivate(e,t){this.getBlock(e,t).deactivate()}addNPC(e,t){const s=this.getBlock(t.x,t.y);e.goTo(s,!0),this.npcs.push(e)}move(e=n.RIGHT){let t=this.activeBlock.x,s=this.activeBlock.y,r=t,o=s;switch(e){case n.UP:++o;break;case n.DOWN:--o;break;case n.RIGHT:++r;break;case n.LEFT:--r}o>=this.getHeight()||r>=this.getWidth()||o<0||r<0||(this.deactivate(s,t),this.activate(o,r),console.log(r,o))}getBlock(e,t){return this.rows[e].blocks[t]}getHeight(){return this.rows.length}getWidth(){return this.rows[0].blocks.length}render(){const e=this.rows.map(e=>e.render());return this.renderedArea=document.createElement("div"),this.renderedArea.className="area",e.forEach(t=>{this.renderedArea.appendChild(t),t.style.height=`${100/e.length}%`}),this.renderedArea}push(e){e.area=this,this.rows.push(e)}};for(let r=0;r<t;r++){const t=new a(r);for(let s=0;s<e;s++){const e=new i(r,s);t.push(e)}s.push(t)}return s}},h="angular ember jquery meteor mongoose react vue".split(" ").map(e=>"src/assets/frameworks/"+e+".png");class d{constructor(){const e=h[Math.floor(Math.random()*h.length,1)];this.element=document.createElement("img"),this.element.src=e,this.element.className="jsImage",h.splice(h.indexOf(e),1)}goTo(e,t){this.removeElement(),e.renderedBlock.appendChild(this.element),this.actualBlock=e}startToWalk(){setInterval(()=>{const e=o();"http://127.0.0.1:5500/src/assets/frameworks/vue.png"===this.element.src&&console.log(e);const t=this.actualBlock.to(e);t&&this.goTo(t)},100)}removeElement(){this.element.parentElement&&this.element.parentElement.removeChild(this.element)}die(){h.push(this.element.src),this.removeElement(),this.element=null}}const u=h.length;var m={injectOn(e){let t=0;for(let s=0;s<e.getHeight()&&!(t>=u);s+=2){const r=new d;e.addNPC(r,{x:s,y:0}),t++}}};const p=20,k=20;!function(){const e=l.build(p,k);document.querySelector("#game").appendChild(e.render()),e.activate(10,10),m.injectOn(e),document.addEventListener("keydown",t=>{const s=t.keyCode,r=Object.values(n).filter(e=>e===s)[0];r&&e.move(r)})}()}]);